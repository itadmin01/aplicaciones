<?xml version="1.0" encoding="UTF-8"?>
<odoo>
        <record id="view_hr_mitzui_form" model="ir.ui.view">
            <field name="name">hr.payslip.mitzui</field>
            <field name="model">hr.payslip</field>
            <field name="inherit_id" ref="nomina_cfdi_ee.view_hr_payslip_form"/>
            <field name="arch" type="xml">
               <xpath expr="//field[@name='isr_anual']" position="after">
                      <field name="proyeccion"/>
               </xpath>
               <xpath expr="//group[@name='anual']" position="after">
                     <group name="proyeccion" string="Proyeccion Gratificacion y 2da nomina Dic."  attrs="{'invisible' : [('proyeccion','=',False)]}">
                          <field name="gratificacion"/>
                          <field name="percepcion_gravada_proyectado"/>
                          <field name="isr_proyectado"/>
                          <button name="proyectado"
                              string="Calcular estimaciÃ³n" type="object" class="oe_edit_only oe_inline oe_highlight" style="margin-left: 10px;"/>
                     </group>
                     <group name="anterior" string="Nomina anterior">
                          <field name="periodo_anterior"/>
                     </group>
               </xpath>
             
             </field>
        </record>

        <record id="hr_payslip_aplicaciones" model="ir.ui.view">
            <field name="name">hr.payslip.aplicaciones.inherit</field>
            <field name="model">hr.payslip.run</field>
            <field name="inherit_id" ref="nomina_cfdi_ee.hr_payslip_run_form_nomina_cfdi"/>
            <field name="arch" type="xml">
                <field name='isr_anual' position="after">
                    <field name="proyeccion"/>
                </field>
            </field>
        </record>
        
        <record id="hr_payslip_run_form_inh" model="ir.ui.view">
	        <field name="name">hr.payslip.run.form.inh</field>
	        <field name="model">hr.payslip.run</field>
	        <field name="inherit_id" ref="om_hr_payroll.hr_payslip_run_form"/>
	        <field name="arch" type="xml">
	        	<xpath expr="//header" position="inside">
	        		<button name="genera_prenomina" type="object" string="Genera Prenomina"/>
	        	</xpath>
	        </field>
	    </record>

      <record id="hr_payslip_run_perido_anterior" model="ir.ui.view">
            <field name="name">hr.payslip.run.periodo.anterior</field>
            <field name="model">hr.payslip.run</field>
            <field name="priority">50</field>
            <field name="inherit_id" ref="attendance_report.hr_payslip_run_form_asistencia"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='asistencia']" position="inside">
                     <field name="incidencias" />
                     <field name="periodo_anterior" attrs="{'invisible' : [('incidencias','=','02')]}"/>
                </xpath>
            </field>
       </record> 

</odoo>
